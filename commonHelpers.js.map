{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderMarkup(arr) {\r\n  return arr\r\n    .map(item => {\r\n      return `\r\n           <li class=\"gallery-item\">\r\n          <a href=\"${item.largeImageURL}\">\r\n          <div class=\"image-container\">\r\n            <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" width=\"360\" height=\"200\"> </div>\r\n            <ul class=\"photo-dsc\">\r\n               <li >\r\n                <p class=\"photo-dsc-title\">Likes</p>\r\n                <p class=\"photo-dsc-text\">${item.likes}</p>\r\n              </li>\r\n               <li >\r\n                <p class=\"photo-dsc-title\">Views</p>\r\n                <p class=\"photo-dsc-text\">${item.views}</p>\r\n              </li>\r\n               <li >\r\n                <p class=\"photo-dsc-title\">Comments</p>\r\n                <p class=\"photo-dsc-text\">${item.comments}</p>\r\n              </li>\r\n               <li >\r\n                <p class=\"photo-dsc-title\">Downloads</p>\r\n                <p class=\"photo-dsc-text\">${item.downloads}</p>\r\n              </li>\r\n            </ul>\r\n          </a>\r\n        </li>\r\n      `;\r\n    })\r\n    .join('');\r\n}\r\n","export function fetchImages(searchValue) {\r\n  const BASE_URL = 'https://pixabay.com/api/';\r\n  const params = new URLSearchParams({\r\n    key: '45211007-57ba37fcb1f6559b3609a01c6',\r\n    q: searchValue,\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    safesearch: 'true',\r\n  });\r\n\r\n  return fetch(`${BASE_URL}?${params}`).then(response => {\r\n    if (!response.ok) {\r\n      throw new Error(response.status);\r\n    }\r\n    return response.json();\r\n  });\r\n}\r\n","import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\nimport { renderMarkup } from './js/render-functions';\r\nimport { fetchImages } from './js/pixabay-api';\r\n\r\nexport const refs = {\r\n  formSearchEl: document.querySelector('.form-search'),\r\n  galleryListEl: document.querySelector('.gallery-list'),\r\n  loader: document.querySelector('.loader'),\r\n};\r\n\r\nrefs.loader.classList.add('loader-hidden');\r\n\r\nrefs.formSearchEl.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n\r\n  let query = refs.formSearchEl.elements.search.value.trim();\r\n  if (!query) return;\r\n\r\n  refs.galleryListEl.innerHTML = '';\r\n  refs.loader.classList.remove('loader-hidden');\r\n\r\n  fetchImages(query, 30)\r\n    .then(data => {\r\n      if (data.hits.length === 0) {\r\n        iziToast.error({\r\n          message:\r\n            'Sorry, there are no images matching your search query. Please try again!',\r\n          backgroundColor: '#ef4040',\r\n          messageColor: '#fafafb',\r\n          position: 'topRight',\r\n          progressBarColor: '#fafafb',\r\n        });\r\n        return;\r\n      }\r\n      refs.galleryListEl.innerHTML = renderMarkup(data.hits);\r\n      gallery.refresh();\r\n    })\r\n    .catch(error => {\r\n      iziToast.error({\r\n        message: `Error: ${error.message}`,\r\n        backgroundColor: '#ef4040',\r\n        messageColor: '#fafafb',\r\n        position: 'topRight',\r\n        progressBarColor: '#fafafb',\r\n      });\r\n    })\r\n    .finally(() => {\r\n      refs.loader.classList.add('loader-hidden');\r\n    });\r\n\r\n  refs.formSearchEl.elements.search.value = '';\r\n});\r\n\r\nconst gallery = new SimpleLightbox('.gallery-list a', {\r\n  captionsData: 'alt',\r\n  captionDelay: 250,\r\n});"],"names":["renderMarkup","arr","item","fetchImages","searchValue","BASE_URL","params","response","refs","e","query","data","iziToast","gallery","error","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAaC,EAAK,CAChC,OAAOA,EACJ,IAAIC,GACI;AAAA;AAAA,qBAEQA,EAAK,aAAa;AAAA;AAAA,wBAEfA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,4CAIhBA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,4CAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,4CAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,4CAIbA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAMrD,EACA,KAAK,EAAE,CACZ,CC/BO,SAASC,EAAYC,EAAa,CACvC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIC,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCTO,MAAMC,EAAO,CAClB,aAAc,SAAS,cAAc,cAAc,EACnD,cAAe,SAAS,cAAc,eAAe,EACrD,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,OAAO,UAAU,IAAI,eAAe,EAEzCA,EAAK,aAAa,iBAAiB,SAAUC,GAAK,CAChDA,EAAE,eAAc,EAEhB,IAAIC,EAAQF,EAAK,aAAa,SAAS,OAAO,MAAM,OAC/CE,IAELF,EAAK,cAAc,UAAY,GAC/BA,EAAK,OAAO,UAAU,OAAO,eAAe,EAE5CL,EAAYO,CAAS,EAClB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,QACE,2EACF,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,iBAAkB,SAC5B,CAAS,EACD,MACD,CACDJ,EAAK,cAAc,UAAYR,EAAaW,EAAK,IAAI,EACrDE,EAAQ,QAAO,CACrB,CAAK,EACA,MAAMC,GAAS,CACdF,EAAS,MAAM,CACb,QAAS,UAAUE,EAAM,OAAO,GAChC,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,iBAAkB,SAC1B,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbN,EAAK,OAAO,UAAU,IAAI,eAAe,CAC/C,CAAK,EAEHA,EAAK,aAAa,SAAS,OAAO,MAAQ,GAC5C,CAAC,EAED,MAAMK,EAAU,IAAIE,EAAe,kBAAmB,CACpD,aAAc,MACd,aAAc,GAChB,CAAC"}